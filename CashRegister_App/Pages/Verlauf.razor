@page "/verlauf"
@using CashRegister.DAL
@using CashRegister.Models
@using CashRegister_App.Data

@inject VerlaufService VerlaufService

<table>
    <tr valign="top">
        <td>
            <MudDataGrid Style="width: 1100px;" Items="@einkaeufe" QuickFilter="@_quickFilter">
                <Columns>
                    <Column T="Einkauf" Field="@nameof(Einkauf.Belegnummer)" />
                    <Column T="Einkauf" Field="@nameof(Einkauf.Kaufdatum)" />
                    <Column T="Einkauf" Field="@nameof(Einkauf.Gesamtpreis)" Title="Gesamtpreis " />
                </Columns>
            </MudDataGrid>
        </td>
        <td>
            <MudPaper Height="800px" Width="500px" Square="true" Class=" rounded" Style="background-color: #333333; margin-bottom: 20px; margin-left: 17px;">
            </MudPaper>

        </td>
    </tr>
</table>














@code {

    private List<Einkauf>? einkaeufe;

    protected override async Task OnInitializedAsync()
    {
        einkaeufe = await VerlaufService.GetVerlaufDaten();
    }

    private string _searchString;
    private Func<Einkauf, bool> _quickFilter => x =>
       {
       if (string.IsNullOrWhiteSpace(_searchString))
           return true;

       if ($"{x.Belegnummer} {x.Kaufdatum} {x.Gesamtpreis}".Contains(_searchString))
           return true;

       return false;
       };

}


